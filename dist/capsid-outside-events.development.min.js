!(function(e, n) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = n())
    : 'function' == typeof define && define.amd
      ? define(n)
      : (e.capsidOutsideEventsPlugin = n())
})(this, function() {
  'use strict'
  return {
    install: function(e) {
      var n = e.on,
        t = e.pluginHooks
      ;(n.outside = function(e) {
        return function(n) {
          var t = n.key
          n.finisher = function(n) {
            n['#O'] = (n['#O'] || []).concat(function(n, o) {
              document.addEventListener(e, function(e) {
                var i
                n === e.target ||
                  n.contains(e.target) ||
                  ((i = {
                    type: 'event',
                    module: 'outside-events',
                    color: '#39cccc',
                    el: n,
                    e: e,
                    coelem: o
                  }),
                  'function' == typeof capsidDebugMessage &&
                    capsidDebugMessage(i),
                  o[t](e))
              })
            })
          }
        }
      }),
        t.push(function(e, n) {
          ;(n.constructor['#O'] || []).map(function(t) {
            t(e, n)
          })
        })
    }
  }
})
