var capsid=function(n){"use strict";var t={};function e(n,t){if(!n)throw new Error(t)}function o(n){e("string"==typeof n,"The name should be a string"),e(!!t[n],"The coelement of the given name is not registered: "+n)}var r=document,c=new Promise((function(n){var t=function(){"complete"===r.readyState&&(n(),r.removeEventListener("readystatechange",t))};r.addEventListener("readystatechange",t),t()})),i=function(n,e){var c;n?(o(n),c=[n]):c=Object.keys(t),c.map((function(n){[].map.call((e||r).querySelectorAll(t[n].sel),t[n])}))},u=[],a=function(n,t,e){n.I$||function(n,t){n.I$=!0,n.N$=t,n.capsid=b,"function"==typeof n.__init__&&n.__init__()}(n,e);var o=new n;return o.el=t,e&&(t["C$"+e]=o),(n.K$||[]).map((function(n){n(t,o,e)})),u.forEach((function(n){n(t,o)})),"function"==typeof o.__mount__&&o.__mount__(),o},s=function(n,o){e("string"==typeof n,"`name` of a class component has to be a string."),e("function"==typeof o,"`Constructor` of a class component has to be a function");var r=n+"-ðŸ’Š",u=function(t,e){var c=t.classList;c.contains(r)||(c.add(n,r),a(o,t,n))};u.sel="."+n+":not(."+r+")",t[n]=u,c.then((function(){i(n)}))},f=function(n,t){o(n);var r=t["C$"+n];return e(r,"no coelement named: "+n+", on the dom: "+t.tagName),r},l=function(n,e){return function(n,e){o(n),t[n](e)}(n,e),f(n,e)},m=function(n,t){var e=f(n,t);"function"==typeof e.__unmount__&&e.__unmount__(),t.classList.remove(n,n+"-ðŸ’Š"),(t["K$"+n]||[]).forEach((function(n){n.remove()})),delete t["C$"+n],delete e.el},p=function(n,t){e("function"==typeof n.install,"The given capsid module does not have `install` method. Please check the install call."),n.install(b,t||{})},v=function(n,t){var o=(void 0===t?{}:t).at;return function(t,r,c){var i=t.constructor;e(!!n,"Empty event handler is given: constructor="+i.name+" key="+r),i.K$=(i.K$||[]).concat((function(t,e,c){var i="K$"+c,u=function(n){var c;o&&![].some.call(t.querySelectorAll(o),(function(t){return t===n.target||t.contains(n.target)}))||(c={type:"event",module:"ðŸ’Š",color:"#e0407b",e:n,el:t,coelem:e},"function"==typeof capsidDebugMessage&&capsidDebugMessage(c),e[r](n))};u.remove=function(){t.removeEventListener(n,u)},t[i]=(t[i]||[]).concat(u),t.addEventListener(n,u)}))}},d=function(n,t,e,o){n.dispatchEvent(new CustomEvent(t,{detail:o,bubbles:e}))},y=function(n){return function(t,o,r){var c=r.value,i=t.constructor;e(!!n,"Unable to emits an empty event: constructor="+i.name+" key="+o),r.value=function(){var t=this,e=c.apply(this,arguments),o=function(e){return d(t.el,n,!0,e)};return e&&e.then?e.then(o):o(e),e}}},_=function(n){return function(t,e){Object.defineProperty(t.constructor.prototype,e,{get:function(){return this.el.querySelector(n)},configurable:!1})}};_.all=function(n){return function(t,e){Object.defineProperty(t.constructor.prototype,e,{get:function(){return this.el.querySelectorAll(n)},configurable:!1})}};var h=function(n){return e("string"==typeof n&&!!n,"Component name must be a non-empty string"),function(t){s(n,t)}},g=function(n,t){return function(o,r,c){var i=c.value,u=o.constructor;e(!!n,"Unable to notify empty event: constructor="+u.name+" key="+r),e(!!t,"Error: Empty selector for @notifies: constructor="+u.name+" key="+r+" event="+n),c.value=function(){var e=this,o=i.apply(this,arguments),r=Array.prototype.forEach,c=function(o){r.call(e.el.querySelectorAll(t),(function(t){return d(t,n,!1,o)}))};return o&&o.then?o.then(c):c(o),o}}};v.useHandler=function(n){(v[n]=v(n)).at=function(t){return v(n,{at:t})}},v.useHandler("click");var b=Object.freeze({def:s,prep:i,make:l,mount:a,unmount:m,get:f,install:p,on:v,emits:y,wired:_,component:h,notifies:g,__ccc__:t,pluginHooks:u});return n.def=s,n.prep=i,n.make=l,n.mount=a,n.unmount=m,n.get=f,n.install=p,n.on=v,n.emits=y,n.wired=_,n.component=h,n.notifies=g,n.__ccc__=t,n.pluginHooks=u,n}({});