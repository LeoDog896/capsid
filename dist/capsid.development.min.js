var capsid=function(t){"use strict";var i={};function a(t,n){if(!t)throw new Error(n)}function r(t){a("string"==typeof t,"The name should be a string"),a(!!i[t],"The coelement of the given name is not registered: "+t)}var e="readystatechange",o=document,n=new Promise(function(n){var t=function t(){"complete"===o.readyState&&(n(),o.removeEventListener(e,t))};o.addEventListener(e,t),t()}),c=o.documentElement,u=function(t,n){var e=void 0;t?(r(t),e=[t]):e=Object.keys(i),e.map(function(t){[].map.call((n||o).querySelectorAll(i[t].sel),i[t])})},l=[],s="C$",f="K$",m=function(t,n,e){var o,r;t.I$||(r=e,(o=t).I$=!0,o.N$=r,o.capsid=M,"function"==typeof o.__init__&&o.__init__());var c=new t;return c.el=n,e&&(n[s+e]=c),(t.K$||[]).map(function(t){t(n,c,e)}),l.forEach(function(t){t(n,c)}),"function"==typeof c.__init__&&c.__init__(),"function"==typeof c.__mount__&&c.__mount__(),c},v=function(o,r){a("string"==typeof o,"`name` of a class component has to be a string."),a("function"==typeof r,"`Constructor` of a class component has to be a function");var c=o+"-ðŸ’Š",t=function(t,n){var e=t.classList;e.contains(c)||(e.add(o,c),m(r,t,o))};t.sel="."+o+":not(."+c+")",i[o]=t,n.then(function(){u(o)})},p=function(t,n){r(t);var e=n[s+t];return a(e,"no coelement named: "+t+", on the dom: "+n.tagName),e},h=function(t,n){var e,o;return o=n,r(e=t),i[e](o),p(t,n)},d=function(t,n){var e=p(t,n);"function"==typeof e.__unmount__&&e.__unmount__(),n.classList.remove(t,t+"-ðŸ’Š"),(n[f+t]||[]).forEach(function(t){t.remove()}),delete n[s+t],delete e.el},_=function(t,n){a("function"==typeof t.install,"The given capsid module does not have `install` method. Please check the install call."),t.install(M,n||{})},y=function(i){var u=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).at;return function(t,c){var n=t.constructor;a(!!i,"Empty event handler is given: constructor="+n.name+" key="+c),n.K$=(n.K$||[]).concat(function(e,o,t){var n=f+t,r=function(n){var t;u&&![].some.call(e.querySelectorAll(u),function(t){return t===n.target||t.contains(n.target)})||(t={type:"event",module:"ðŸ’Š",color:"#e0407b",e:n,el:e,coelem:o},"function"==typeof capsidDebugMessage&&capsidDebugMessage(t),o[c](n))};r.remove=function(){e.removeEventListener(i,r)},e[n]=(e[n]||[]).concat(r),e.addEventListener(i,r)})}},g=function(t,n,e,o){t.dispatchEvent(new CustomEvent(n,{detail:o,bubbles:e}))},b=function(r){return function(t,n,e){var o=e.value;a(!!r,"Unable to emits an empty event: constructor="+(t.constructor&&t.constructor.name||"?")+" key="+n),e.value=function(){var n=this,t=o.apply(this,arguments),e=function(t){return g(n.el,r,!0,t)};return t&&t.then?t.then(e):e(t),t}}};b.first=function(r){return function(t,n,e){var o=e.value;e.value=function(){return g(this.el,r,!0,arguments[0]),o.apply(this,arguments)}}};var w=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,E=function(t){return t.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},k=function(r,c){return function(t,n,e){var o=c||"."+r;e.get=function(){if(a(!!this.el,"Component's element is not ready. Probably wired getter called at constructor.(class=["+this.constructor.name+"]"),w.call(this.el,o))return p(r,this.el);var t=this.el.querySelectorAll(o);return a(0<t.length,'wired component "'+r+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]"),p(r,t[0])}}},S=function(t,n,e){if("string"==typeof t)return k(t,n);k(E(n))(t,n,e)},$=function(o){return function(t,n,e){e.get=function(){return this.el.querySelector(o)}}},A=function(o){return function(t,n,e){e.get=function(){return this.el.querySelectorAll(o)}}};S.el=$,S.elAll=A;var L=$;L.all=A,L.component=S;var q=function t(n){return"function"!=typeof n?function(t){return v(n,t),t}:t(E(n.name))(n)},C=function(c,i){return function(t,n,e){var r=e.value;a(!!c,"Unable to notify empty event: constructor="+(t.constructor&&t.constructor.name||"?")+" key="+n),e.value=function(){var t=this,n=r.apply(this,arguments),e=[].forEach,o=function(n){e.call(t.el.querySelectorAll(i),function(t){return g(t,c,!1,n)})};return n&&n.then?n.then(o):o(n),n}}};y.useHandler=function(n){(y[n]=y(n)).at=function(t){return y(n,{at:t})}},y.useHandler("click");var H=b,K=C,M=Object.freeze({def:v,prep:u,make:h,mount:m,unmount:d,get:p,install:_,on:y,emit:H,emits:b,wire:S,wired:L,component:q,pub:K,notifies:C,__ccc__:i,pluginHooks:l});return t.def=v,t.prep=u,t.make=h,t.mount=m,t.unmount=d,t.get=p,t.install=_,t.on=y,t.emit=H,t.emits=b,t.wire=S,t.wired=L,t.component=q,t.pub=K,t.notifies=C,t.__ccc__=i,t.pluginHooks=l,t}({});