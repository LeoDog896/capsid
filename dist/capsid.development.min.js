var capsid=function(t){"use strict";var c={};function u(t,n){if(!t)throw new Error(n)}function r(t){u("string"==typeof t,"The name should be a string"),u(!!c[t],"The coelement of the given name is not registered: "+t)}var e="readystatechange",o=document,n=new Promise(function(n){var t=function t(){"complete"===o.readyState&&(n(),o.removeEventListener(e,t))};o.addEventListener(e,t),t()}),i=o.documentElement,a=function(t,n){var e=void 0;t?(r(t),e=[t]):e=Object.keys(c),e.map(function(t){[].map.call((n||o).querySelectorAll(c[t].sel),c[t])})},l=[],s="C$",f="K$",m=function(t,n,e){var o,r;t.I$||(r=e,(o=t).I$=!0,o.N$=r,o.capsid=M,"function"==typeof o.__init__&&o.__init__());var i=new t;return i.el=n,e&&(n[s+e]=i),(t.K$||[]).map(function(t){t(n,i)}),l.forEach(function(t){t(n,i)}),"function"==typeof i.__init__&&i.__init__(),"function"==typeof i.__mount__&&i.__mount__(),i},v=function(o,r){u("string"==typeof o,"`name` of a class component has to be a string."),u("function"==typeof r,"`Constructor` of a class component has to be a function");var i=o+"-ðŸ’Š",t=function(t,n){var e=t.classList;e.contains(i)||(e.add(o,i),m(r,t,o))};t.sel="."+o+":not(."+i+")",c[o]=t,n.then(function(){a(o)})},h=function(t,n){r(t);var e=n[s+t];return u(e,"no coelement named: "+t+", on the dom: "+n.tagName),e},p=function(t,n){var e,o;return o=n,r(e=t),c[e](o),h(t,n)},d=function(t,n){var e=h(t,n);"function"==typeof e.__unmount__&&e.__unmount__(),n.classList.remove(t,t+"-ðŸ’Š"),(n[f+t]||[]).forEach(function(t){t.remove()}),delete n[s+t],delete e.el},_=function(t,n){if("function"!=typeof t.install)throw new Error("The given capsid module does not have `install` method. Please check the install call.");t.install(M,n||{})},y=function(c){var u=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).at;return function(t,r){var i=t.constructor;if(!c)throw new Error("Empty event handler is given: constructor="+i.name+" key="+r);i.K$=(i.K$||[]).concat(function(e,o){var t=f+i.N$,n=function(n){var t;u&&![].some.call(e.querySelectorAll(u),function(t){return t===n.target||t.contains(n.target)})||(t={type:"event",module:"ðŸ’Š",color:"#e0407b",e:n,el:e,coelem:o},"function"==typeof capsidDebugMessage&&capsidDebugMessage(t),o[r](n))};n.remove=function(){e.removeEventListener(c,n)},e[t]=(e[t]||[]).concat(n),e.addEventListener(c,n)})}},g=function(t,n,e,o){t.dispatchEvent(new CustomEvent(n,{detail:o,bubbles:e}))},w=function(r){return function(t,n,e){var o=e.value;if(!r)throw new Error("Unable to emits an empty event: constructor="+(t.constructor&&t.constructor.name||"?")+" key="+n);e.value=function(){var n=this,t=o.apply(this,arguments),e=function(t){return g(n.el,r,!0,t)};return t&&t.then?t.then(e):e(t),t}}};w.first=function(r){return function(t,n,e){var o=e.value;e.value=function(){return g(this.el,r,!0,arguments[0]),o.apply(this,arguments)}}};var b=i.matches||i.webkitMatchesSelector||i.msMatchesSelector,E=function(t){return t.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},k=function(r,i){return function(t,n,e){var o=i||"."+r;e.get=function(){if(!this.el)throw new Error("Component's element is not ready. Probably wired getter called at constructor.(class=["+this.constructor.name+"]");if(b.call(this.el,o))return h(r,this.el);var t=this.el.querySelectorAll(o);if(t.length)return h(r,t[0]);throw new Error('wired component "'+r+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]")}}},$=function(t,n,e){if("string"==typeof t)return k(t,n);k(E(n))(t,n,e)},S=function(o){return function(t,n,e){e.get=function(){return this.el.querySelector(o)}}},A=function(o){return function(t,n,e){e.get=function(){return this.el.querySelectorAll(o)}}};$.el=S,$.elAll=A;var L=S;L.all=A,L.component=$;var q=function t(n){return"function"!=typeof n?function(t){return v(n,t),t}:t(E(n.name))(n)},C=function(i,c){return function(t,n,e){var r=e.value;if(!i)throw new Error("Unable to notify empty event: constructor="+(t.constructor&&t.constructor.name||"?")+" key="+n);e.value=function(){var t=this,n=r.apply(this,arguments),e=[].forEach,o=function(n){e.call(t.el.querySelectorAll(c),function(t){return g(t,i,!1,n)})};return n&&n.then?n.then(o):o(n),n}}};y.useHandler=function(n){(y[n]=y(n)).at=function(t){return y(n,{at:t})}},y.useHandler("click");var H=w,K=C,M=Object.freeze({def:v,prep:a,make:p,mount:m,unmount:d,get:h,install:_,on:y,emit:H,emits:w,wire:$,wired:L,component:q,pub:K,notifies:C,__ccc__:c,pluginHooks:l});return t.def=v,t.prep=a,t.make=p,t.mount=m,t.unmount=d,t.get=h,t.install=_,t.on=y,t.emit=H,t.emits=w,t.wire=$,t.wired=L,t.component=q,t.pub=K,t.notifies=C,t.__ccc__=c,t.pluginHooks=l,t}({});