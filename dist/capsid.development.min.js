var capsid=function(n){"use strict";var c={};function u(n,t){if(!n)throw new Error(t)}function r(n){u("string"==typeof n,"The name should be a string"),u(!!c[n],"The coelement of the given name is not registered: "+n)}var e="readystatechange",o=document,t=new Promise(function(t){var n=function n(){"complete"===o.readyState&&(t(),o.removeEventListener(e,n))};o.addEventListener(e,n),n()}),i=o.documentElement,a=function(n,t){var e=void 0;n?(r(n),e=[n]):e=Object.keys(c),e.map(function(n){[].map.call((t||o).querySelectorAll(c[n].sel),c[n])})},l=[],s="$D",f="$K",m=function(n,t,e){var o,r;n.$I||(r=e,(o=n).$I=!0,o.$N=r,o.capsid=D,"function"==typeof o.__init__&&o.__init__());var i=new n;return i.el=t,e&&(t[s+e]=i),(n.$K||[]).map(function(n){n(t,i)}),l.forEach(function(n){n(t,i)}),"function"==typeof i.__init__&&i.__init__(),"function"==typeof i.__mount__&&i.__mount__(),i},v=function(o,r){u("string"==typeof o,"`name` of a class component has to be a string."),u("function"==typeof r,"`Constructor` of a class component has to be a function");var i=o+"-ðŸ’Š",n=function(n,t){var e=n.classList;e.contains(i)||(e.add(o,i),m(r,n,o))};n.sel="."+o+":not(."+i+")",c[o]=n,t.then(function(){a(o)})},h=function(n,t){r(n);var e=t[s+n];return u(e,"no coelement named: "+n+", on the dom: "+t.tagName),e},p=function(n,t){var e,o;return o=t,r(e=n),c[e](o),h(n,t)},_=function(n,t){var e=h(n,t);"function"==typeof e.__unmount__&&e.__unmount__(),t.classList.remove(n,n+"-ðŸ’Š"),(t[f+n]||[]).forEach(function(n){n.remove()}),delete t[s+n],delete e.el},d=function(n,t){if("function"!=typeof n.install)throw new Error("The given capsid module does not have `install` method. Please check the install call.");n.install(D,t||{})},g=function(i){var c=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).at;return function(n,r){var t=n.constructor;t.$K=(t.$K||[]).concat(function(e,o){var n=function(t){var n;c&&![].some.call(e.querySelectorAll(c),function(n){return n===t.target||n.contains(t.target)})||(n={type:"event",module:"ðŸ’Š",color:"#e0407b",e:t,el:e,coelem:o},"function"==typeof capsidDebugMessage&&capsidDebugMessage(n),o[r](t))};n.remove=function(){e.removeEventListener(i,n)},e[f+t.$N]=(e.$K||[]).concat(n),e.addEventListener(i,n)})}},y=g("click"),w=function(n,t,e,o){n.dispatchEvent(new CustomEvent(t,{detail:o,bubbles:e}))},b=function(r){return function(n,t,e){var o=e.value;e.value=function(){var t=this,n=o.apply(this,arguments),e=function(n){return w(t.el,r,!0,n)};return n&&n.then?n.then(e):e(n),n}}};b.first=function(r){return function(n,t,e){var o=e.value;e.value=function(){return w(this.el,r,!0,arguments[0]),o.apply(this,arguments)}}};var E=i.matches||i.webkitMatchesSelector||i.msMatchesSelector,$=function(n){return n.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},k=function(r,i){return function(n,t,e){var o=i||"."+r;e.get=function(){if(!this.el)throw new Error("Component's element is not ready. Probably wired getter called at constructor.(class=["+this.constructor.name+"]");if(E.call(this.el,o))return h(r,this.el);var n=this.el.querySelectorAll(o);if(n.length)return h(r,n[0]);throw new Error('wired component "'+r+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]")}}},S=function(n,t,e){if("string"==typeof n)return k(n,t);k($(t))(n,t,e)},A=function(o){return function(n,t,e){e.get=function(){return this.el.querySelector(o)}}},L=function(o){return function(n,t,e){e.get=function(){return this.el.querySelectorAll(o)}}};S.el=A,S.elAll=L;var q=A;q.all=L,q.component=S;var K=function n(t){return"function"!=typeof t?function(n){return v(t,n),n}:n($(t.name))(t)},C=function(i,c){return function(n,t,e){var r=e.value;e.value=function(){var n=this,t=r.apply(this,arguments),e=[].forEach,o=function(t){e.call(n.el.querySelectorAll(c),function(n){return w(n,i,!1,t)})};return t&&t.then?t.then(o):o(t),t}}};g.click=y;var M=b,N=C,D=Object.freeze({def:v,prep:a,make:p,mount:m,unmount:_,get:h,install:d,on:g,emit:M,emits:b,wire:S,wired:q,component:K,pub:N,notifies:C,__ccc__:c,pluginHooks:l});return n.def=v,n.prep=a,n.make=p,n.mount=m,n.unmount=_,n.get=h,n.install=d,n.on=g,n.emit=M,n.emits=b,n.wire=S,n.wired=q,n.component=K,n.pub=N,n.notifies=C,n.__ccc__=c,n.pluginHooks=l,n}({});