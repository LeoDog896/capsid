var capsid=function(t){"use strict";function n(t,n){if(!t)throw new Error(n)}function e(t){n("string"==typeof t,"The name should be a string"),n(!!o[t],"The coelement of the given name is not registered: "+t)}var o={},r=document,i=new Promise(function(t){var n=function n(){"complete"===r.readyState&&(t(),r.removeEventListener("readystatechange",n))};r.addEventListener("readystatechange",n),n()}),c=r.documentElement,u=function(t,n){var i=void 0;t?(e(t),i=[t]):i=Object.keys(o),i.map(function(t){[].map.call((n||r).querySelectorAll(o[t].sel),o[t])})},a=[],s=function(t,n){t.$I=!0,t.$N=n,t.capsid=L,"function"==typeof t.__init__&&t.__init__()},l=function(t,n,e){t.$I||s(t,e);var o=new t;return o.el=n,e&&(n["$D"+e]=o),(t.$K||[]).map(function(t){t(n,o)}),a.forEach(function(t){t(n,o)}),"function"==typeof o.__init__&&o.__init__(),o},f=function(t,e){n("string"==typeof t,"`name` of a class component has to be a string."),n("function"==typeof e,"`Constructor` of a class component has to be a function");var r=t+"-initialized",c=function(n,o){var i=n.classList;i.contains(r)||(i.add(t,r),l(e,n,t))};c.sel="."+t+":not(."+r+")",o[t]=c,i.then(function(){u(t)})},m=function(t,o){e(t);var r=o["$D"+t];return n(r,"no coelement named: "+t+", on the dom: "+o.tagName),r},h=function(t,n){e(t),o[t](n)},p=function(t,n){return h(t,n),m(t,n)},v=function(t){"function"==typeof capsidDebugMessage&&capsidDebugMessage(t)},d=function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).at;return function(e,o){var r=e.constructor;r.$K=(r.$K||[]).concat(function(e,r){e.addEventListener(t,function(t){n&&![].some.call(e.querySelectorAll(n),function(n){return n===t.target||n.contains(t.target)})||(v({type:"event",e:t,el:e,coelem:r}),r[o](t))})})}},g=d("click"),y=function(t,n,e,o){t.dispatchEvent(new CustomEvent(n,{detail:o,bubbles:e}))},_=function(t){return function(n,e,o){var r=o.value;o.value=function(){var n=this,e=r.apply(this,arguments),o=function(e){return y(n.el,t,!0,e)};return e&&e.then?e.then(o):o(e),e}}};_.first=function(t){return function(n,e,o){var r=o.value;o.value=function(){return y(this.el,t,!0,arguments[0]),r.apply(this,arguments)}}};var b=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,w=function(t){return t.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},E=function(t,n){return function(e,o,r){var i=n||"."+t;r.get=function(){if(!this.el)throw new Error("Component's element is not ready. Probably wired getter called at constructor.(class=["+this.constructor.name+"]");if(b.call(this.el,i))return m(t,this.el);var n=this.el.querySelectorAll(i);if(n.length)return m(t,n[0]);throw new Error('wired component "'+t+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]")}}},S=function(t,n,e){if("string"==typeof t)return E(t,n);E(w(n))(t,n,e)};S.el=function(t){return function(n,e,o){o.get=function(){return this.el.querySelector(t)}}},S.elAll=function(t){return function(n,e,o){o.get=function(){return this.el.querySelectorAll(t)}}};var $=function t(n){return"function"!=typeof n?function(t){return f(n,t),t}:t(w(n.name))(n)},k=function(t,n){return function(e,o,r){var i=r.value;r.value=function(){var e=this,o=i.apply(this,arguments),r=[].forEach,c=function(o){r.call(e.el.querySelectorAll(n),function(n){return y(n,t,!1,o)})};return o&&o.then?o.then(c):c(o),o}}};d.click=g;var A=_,q=k,L=Object.freeze({def:f,prep:u,make:p,mount:l,get:m,on:d,emit:A,emits:_,wire:S,component:$,pub:q,notifies:k,__ccc__:o,pluginHooks:a});return t.def=f,t.prep=u,t.make=p,t.mount=l,t.get=m,t.on=d,t.emit=A,t.emits=_,t.wire=S,t.component=$,t.pub=q,t.notifies=k,t.__ccc__=o,t.pluginHooks=a,t}({});