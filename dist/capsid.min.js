!function(n){"use strict";function t(n,t){if(!n)throw new Error(t)}function e(n){t("string"==typeof n,"The name should be a string"),t(!!u[n],"The coelement of the given name is not registered: "+n)}var o="__coelement:",i="__cc_listeners__",r=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.at;return function(t,o){var r=t.constructor;r[i]=(r[i]||[]).concat(function(t,i){t.addEventListener(n,function(n){e&&![].some.call(t.querySelectorAll(e),function(t){return t===n.target||t.contains(n.target)})||i[o](n)})})}},c=function(n,t,e){n.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))},a=function(n){return function(t,e,o){var i=o.value;o.value=function(){return c(this.el,n,arguments[0]),i.apply(this,arguments)}}};a.last=function(n){return function(t,e,o){var i=o.value;o.value=function(){var t=this,e=i.apply(this,arguments),o=function(e){return c(t.el,n,e)};return e&&e.then?e.then(o):o(e),e}}};var u={},s=function(n,i){e(n);var r=i[o+n];return t(r,"no coelement named: "+n+", on the dom: "+i.tagName),r},f="readystatechange",l=document,m=new Promise(function(n){var t=function t(){"complete"===l.readyState&&(n(),l.removeEventListener(f,t))};l.addEventListener(f,t),t()}),p=l.documentElement,h=p.matches||p.webkitMatchesSelector||p.msMatchesSelector,v=function(n){return n.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},d=function(n,t){return function(e,o,i){var r=t||"."+n;i.get=function(){if(h.call(this.el,r))return s(n,this.el);var t=this.el.querySelectorAll(r);if(t.length)return s(n,t[0]);throw new Error('wired class-component "'+n+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]")}}},_=function(n,t,e){return"string"==typeof n?d(n,t):void d(v(t))(n,t,e)},g=function(n,t){var o=void 0;n?(e(n),o=[n]):o=Object.keys(u),o.map(function(n){[].map.call((t||l).querySelectorAll(u[n].sel),u[n])})},y=[],w=function(n,t){var e=new n;return y.forEach(function(n){n(t,e)}),e.el=t,e.capsid=C,"function"==typeof e.__init__&&e.__init__(),(n[i]||[]).map(function(n){n(t,e)}),e},b=function(n,e){t("string"==typeof n,"`name` of a class component has to be a string."),t("function"==typeof e,"`Constructor` of a class component has to be a function");var i=n+"-initialized",r=function(t,r){var c=t.classList;c.contains(i)||(t[o+n]=w(e,t),c.add(n,i))};r.sel="."+n+":not(."+i+")",u[n]=r,m.then(function(){g(n)})},E=function n(t){return"function"!=typeof t?function(n){return b(t,n),n}:n(v(t.name))(t)},k=function(n,t){e(n),u[n](t)},S=function(n,t){return k(n,t),s(n,t)},C=Object.freeze({on:r,emit:a,wire:_,component:E,def:b,prep:g,init:k,initComponent:w,__ccc__:u,make:S,pluginHooks:y,get:s});n.on=r,n.emit=a,n.wire=_,n.component=E,n.def=b,n.prep=g,n.init=k,n.initComponent=w,n.__ccc__=u,n.make=S,n.pluginHooks=y,n.get=s}(this.capsid=this.capsid||{});