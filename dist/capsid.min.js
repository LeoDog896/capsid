var capsid=function(n){"use strict";var c={};function u(n,t){if(!n)throw new Error(t)}function r(n){u("string"==typeof n,"The name should be a string"),u(!!c[n],"The coelement of the given name is not registered: "+n)}var e="readystatechange",o=document,t=new Promise(function(t){var n=function n(){"complete"===o.readyState&&(t(),o.removeEventListener(e,n))};o.addEventListener(e,n),n()}),i=o.documentElement,a=function(n,t){var e=void 0;n?(r(n),e=[n]):e=Object.keys(c),e.map(function(n){[].map.call((t||o).querySelectorAll(c[n].sel),c[n])})},l=[],s="$D",f=function(n,t,e){var o,r;n.$I||(r=e,(o=n).$I=!0,o.$N=r,o.capsid=P,"function"==typeof o.__init__&&o.__init__());var i=new n;return i.el=t,e&&(t[s+e]=i),(n.$K||[]).map(function(n){n(t,i)}),l.forEach(function(n){n(t,i)}),"function"==typeof i.__init__&&i.__init__(),"function"==typeof i.__mount__&&i.__mount__(),i},m=function(o,r){u("string"==typeof o,"`name` of a class component has to be a string."),u("function"==typeof r,"`Constructor` of a class component has to be a function");var i=o+"-ðŸ’Š",n=function(n,t){var e=n.classList;e.contains(i)||(e.add(o,i),f(r,n,o))};n.sel="."+o+":not(."+i+")",c[o]=n,t.then(function(){a(o)})},v=function(n,t){r(n);var e=t[s+n];return u(e,"no coelement named: "+n+", on the dom: "+t.tagName),e},h=function(n,t){var e,o;return o=t,r(e=n),c[e](o),v(n,t)},p=function(n,t){var e=v(n,t);"function"==typeof e.__unmount__&&e.__unmount__(),t.classList.remove(n,n+"-ðŸ’Š"),(t.$K||[]).forEach(function(n){n.remove()}),delete t[s+n],delete e.el},_=function(n,t){if("function"!=typeof n.install)throw new Error("The given capsid module does not have `install` method. Please check the install call.");n.install(P,t||{})},d=function(r){var i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).at;return function(n,o){var t=n.constructor;t.$K=(t.$K||[]).concat(function(n,e){var t=function(t){i&&![].some.call(n.querySelectorAll(i),function(n){return n===t.target||n.contains(t.target)})||e[o](t)};t.remove=function(){n.removeEventListener(r,t)},n.$K=(n.$K||[]).concat(t),n.addEventListener(r,t)})}},g=d("click"),y=function(n,t,e,o){n.dispatchEvent(new CustomEvent(t,{detail:o,bubbles:e}))},w=function(r){return function(n,t,e){var o=e.value;e.value=function(){var t=this,n=o.apply(this,arguments),e=function(n){return y(t.el,r,!0,n)};return n&&n.then?n.then(e):e(n),n}}};w.first=function(r){return function(n,t,e){var o=e.value;e.value=function(){return y(this.el,r,!0,arguments[0]),o.apply(this,arguments)}}};var b=i.matches||i.webkitMatchesSelector||i.msMatchesSelector,E=function(n){return n.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},$=function(r,i){return function(n,t,e){var o=i||"."+r;e.get=function(){if(!this.el)throw new Error("Component's element is not ready. Probably wired getter called at constructor.(class=["+this.constructor.name+"]");if(b.call(this.el,o))return v(r,this.el);var n=this.el.querySelectorAll(o);if(n.length)return v(r,n[0]);throw new Error('wired component "'+r+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]")}}},k=function(n,t,e){if("string"==typeof n)return $(n,t);$(E(t))(n,t,e)},S=function(o){return function(n,t,e){e.get=function(){return this.el.querySelector(o)}}},A=function(o){return function(n,t,e){e.get=function(){return this.el.querySelectorAll(o)}}};k.el=S,k.elAll=A;var L=S;L.all=A,L.component=k;var q=function n(t){return"function"!=typeof t?function(n){return m(t,n),n}:n(E(t.name))(t)},K=function(i,c){return function(n,t,e){var r=e.value;e.value=function(){var n=this,t=r.apply(this,arguments),e=[].forEach,o=function(t){e.call(n.el.querySelectorAll(c),function(n){return y(n,i,!1,t)})};return t&&t.then?t.then(o):o(t),t}}};d.click=g;var C=w,N=K,P=Object.freeze({def:m,prep:a,make:h,mount:f,unmount:p,get:v,install:_,on:d,emit:C,emits:w,wire:k,wired:L,component:q,pub:N,notifies:K,__ccc__:c,pluginHooks:l});return n.def=m,n.prep=a,n.make=h,n.mount=f,n.unmount=p,n.get=v,n.install=_,n.on=d,n.emit=C,n.emits=w,n.wire=k,n.wired=L,n.component=q,n.pub=N,n.notifies=K,n.__ccc__=c,n.pluginHooks=l,n}({});