var capsid=function(t){"use strict";var c={};function a(t,n){if(!t)throw new Error(n)}function o(t){a("string"==typeof t,"The name should be a string"),a(!!c[t],"The coelement of the given name is not registered: "+t)}var e="readystatechange",r=document,n=new Promise(function(n){var t=function t(){"complete"===r.readyState&&(n(),r.removeEventListener(e,t))};r.addEventListener(e,t),t()}),i=r.documentElement,u=function(t,n){var e=void 0;t?(o(t),e=[t]):e=Object.keys(c),e.map(function(t){[].map.call((n||r).querySelectorAll(c[t].sel),c[t])})},l=[],s=function(t,n,e){var r,o;t.$I||(o=e,(r=t).$I=!0,r.$N=o,r.capsid=K,"function"==typeof r.__init__&&r.__init__());var i=new t;return i.el=n,e&&(n["$D"+e]=i),(t.$K||[]).map(function(t){t(n,i)}),l.forEach(function(t){t(n,i)}),"function"==typeof i.__init__&&i.__init__(),i},f=function(r,o){a("string"==typeof r,"`name` of a class component has to be a string."),a("function"==typeof o,"`Constructor` of a class component has to be a function");var i=r+"-initialized",t=function(t,n){var e=t.classList;e.contains(i)||(e.add(r,i),s(o,t,r))};t.sel="."+r+":not(."+i+")",c[r]=t,n.then(function(){u(r)})},h=function(t,n){o(t);var e=n["$D"+t];return a(e,"no coelement named: "+t+", on the dom: "+n.tagName),e},m=function(t,n){var e,r;return r=n,o(e=t),c[e](r),h(t,n)},v=function(t,n){if(t.install)throw new Error("The given capsid module does not have `install` method. Please check the install call.");t.install(K,n||{})},p=function(o){var i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).at;return function(t,r){var n=t.constructor;n.$K=(n.$K||[]).concat(function(t,e){t.addEventListener(o,function(n){i&&![].some.call(t.querySelectorAll(i),function(t){return t===n.target||t.contains(n.target)})||e[r](n)})})}},d=p("click"),g=function(t,n,e,r){t.dispatchEvent(new CustomEvent(n,{detail:r,bubbles:e}))},_=function(o){return function(t,n,e){var r=e.value;e.value=function(){var n=this,t=r.apply(this,arguments),e=function(t){return g(n.el,o,!0,t)};return t&&t.then?t.then(e):e(t),t}}};_.first=function(o){return function(t,n,e){var r=e.value;e.value=function(){return g(this.el,o,!0,arguments[0]),r.apply(this,arguments)}}};var y=i.matches||i.webkitMatchesSelector||i.msMatchesSelector,w=function(t){return t.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},b=function(o,i){return function(t,n,e){var r=i||"."+o;e.get=function(){if(!this.el)throw new Error("Component's element is not ready. Probably wired getter called at constructor.(class=["+this.constructor.name+"]");if(y.call(this.el,r))return h(o,this.el);var t=this.el.querySelectorAll(r);if(t.length)return h(o,t[0]);throw new Error('wired component "'+o+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]")}}},E=function(t,n,e){if("string"==typeof t)return b(t,n);b(w(n))(t,n,e)},k=function(r){return function(t,n,e){e.get=function(){return this.el.querySelector(r)}}},S=function(r){return function(t,n,e){e.get=function(){return this.el.querySelectorAll(r)}}};E.el=k,E.elAll=S;var $=k;$.all=S,$.component=E;var A=function t(n){return"function"!=typeof n?function(t){return f(n,t),t}:t(w(n.name))(n)},q=function(i,c){return function(t,n,e){var o=e.value;e.value=function(){var t=this,n=o.apply(this,arguments),e=[].forEach,r=function(n){e.call(t.el.querySelectorAll(c),function(t){return g(t,i,!1,n)})};return n&&n.then?n.then(r):r(n),n}}};p.click=d;var L=_,C=q,K=Object.freeze({def:f,prep:u,make:m,mount:s,get:h,install:v,on:p,emit:L,emits:_,wire:E,wired:$,component:A,pub:C,notifies:q,__ccc__:c,pluginHooks:l});return t.def=f,t.prep=u,t.make=m,t.mount=s,t.get=h,t.install=v,t.on=p,t.emit=L,t.emits=_,t.wire=E,t.wired=$,t.component=A,t.pub=C,t.notifies=q,t.__ccc__=c,t.pluginHooks=l,t}({});