var capsid=function(n){"use strict";function t(n,t){if(!n)throw new Error(t)}function e(n){t("string"==typeof n,"The name should be a string"),t(!!u[n],"The coelement of the given name is not registered: "+n)}var i=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.at;return function(t,i){var o=t.constructor;o.__cc_listeners__=(o.__cc_listeners__||[]).concat(function(t,o){t.addEventListener(n,function(n){e&&![].some.call(t.querySelectorAll(e),function(t){return t===n.target||t.contains(n.target)})||o[i](n)})})}},o=i("click"),r=function(n,t,e,i){n.dispatchEvent(new CustomEvent(t,{detail:i,bubbles:e}))},c=function(n){return function(t,e,i){var o=i.value;i.value=function(){var t=this,e=o.apply(this,arguments),i=function(e){return r(t.el,n,!0,e)};return e&&e.then?e.then(i):i(e),e}}};c.first=function(n){return function(t,e,i){var o=i.value;i.value=function(){return r(this.el,n,!0,arguments[0]),o.apply(this,arguments)}}};var u={},a=function(n,i){e(n);var o=i["__coelement:"+n];return t(o,"no coelement named: "+n+", on the dom: "+i.tagName),o},l=document,f=new Promise(function(n){var t=function t(){"complete"===l.readyState&&(n(),l.removeEventListener("readystatechange",t))};l.addEventListener("readystatechange",t),t()}),s=l.documentElement,_=s.matches||s.webkitMatchesSelector||s.msMatchesSelector,h=function(n){return n.replace(/(?!^)[A-Z]/g,"-$&").toLowerCase()},m=function(n,t){return function(e,i,o){var r=t||"."+n;o.get=function(){if(_.call(this.el,r))return a(n,this.el);var t=this.el.querySelectorAll(r);if(t.length)return a(n,t[0]);throw new Error('wired class-component "'+n+'" is not available at '+this.el.tagName+"(class=["+this.constructor.name+"]")}}},p=function(n,t,e){if("string"==typeof n)return m(n,t);m(h(t))(n,t,e)},v=function(n){return function(t,e,i){i.get=function(){return this.el.querySelector(n)}}},d=function(n){return function(t,e,i){i.get=function(){return this.el.querySelectorAll(n)}}};p.el=v,p.elAll=d;var g=function(n,t){var i=void 0;n?(e(n),i=[n]):i=Object.keys(u),i.map(function(n){[].map.call((t||l).querySelectorAll(u[n].sel),u[n])})},y=[],b=function(n){n.__cc_initialized__=!0,n.capsid=C,"function"==typeof n.__init__&&n.__init__()},w=function(n,t){n.__cc_initialized__||b(n);var e=new n;return e.el=t,(n.__cc_listeners__||[]).map(function(n){n(t,e)}),y.forEach(function(n){n(t,e)}),"function"==typeof e.__init__&&e.__init__(),e},E=function(n,e){t("string"==typeof n,"`name` of a class component has to be a string."),t("function"==typeof e,"`Constructor` of a class component has to be a function");var i=n+"-initialized",o=function(t,o){var r=t.classList;r.contains(i)||(r.add(n,i),t["__coelement:"+n]=w(e,t))};o.sel="."+n+":not(."+i+")",u[n]=o,f.then(function(){g(n)})},S=function n(t){return"function"!=typeof t?function(n){return E(t,n),n}:n(h(t.name))(t)},k=function(n,t){return function(e,i,o){var c=o.value;o.value=function(){var e=this,i=c.apply(this,arguments),o=[].forEach,u=function(i){o.call(e.el.querySelectorAll(t),function(t){return r(t,n,!1,i)})};return i&&i.then?i.then(u):u(i),i}}};i.click=o;var A=function(n,t){e(n),u[n](t)},q=function(n,t){return A(n,t),a(n,t)},C=Object.freeze({on:i,emit:c,wire:p,component:S,pub:k,def:E,prep:g,init:A,initComponent:w,__ccc__:u,make:q,pluginHooks:y,get:a});return n.on=i,n.emit=c,n.wire=p,n.component=S,n.pub=k,n.def=E,n.prep=g,n.init=A,n.initComponent=w,n.__ccc__=u,n.make=q,n.pluginHooks=y,n.get=a,n}({});