"use strict";!function(){function n(n,t,e){this.event=n,this.selector=t,this.key=e}function t(n,t){this.name=n,this.Constructor=t;var e=n+"-initialized";this.selector="."+n+":not(."+e+")",this.initElem=function(i){i.hasClass(e)||w(i.addClass(e),n,t)}}function e(n,t){if(!n)throw new Error(t)}function i(n){return e(b[n],'Class componet "'+n+'" is not defined.'),b[n]}function o(n,i){e("string"==typeof n,"`name` of a class component has to be a string"),e(p.isFunction(i),"`Constructor` of a class component has to be a function"),b[n]=new t(n,i),p(function(){r(n)})}function r(n,t){var e=i(n);return p(e.selector,t).each(function(){e.initElem(p(this))}).toArray()}function c(n,t){i(n).initElem(p(t))}function u(n){var t=n[0].className;t&&t.split(y).forEach(function(t){b[t]&&c(t,n)})}function a(n){Object.keys(b).forEach(function(t){r(t,n)})}function s(n,t){t?t.split(y).forEach(function(t){c(t,n.addClass(t))}):u(n)}function f(n,t){e(n[0],'coelement "'+t+'" unavailable at empty dom selection');var i=n.data(g+t);return e(i,"no coelement named: "+t+", on the dom: "+n[0].tagName),i}n.prototype.bindTo=function(n,t){var e=this.key;n.on(this.event,this.selector,function(){t[e].apply(t,arguments)})};var l=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).replace(/^-/,"")},h=function(t,e,i,o){(t.__events__=t.__events__||[]).push(new n(i,o,e))},m=function(n){var t=function(t,e){h(t.constructor,e,n)};return t.at=function(t){return function(e,i){h(e.constructor,i,n,t)}},t},_=function(n){var t=function(t,e,i){var o=i.value;i.value=function(){this.elem.trigger(n,arguments),o.apply(this,arguments)}};return t.first=t,t.last=function(t,e,i){var o=i.value;i.value=function(){var t=this,e=o.apply(this,arguments);return e&&e.then?Promise.resolve(e).then(function(e){return t.elem.trigger(n,e)}):this.elem.trigger(n,e),e}},t},v=function(n,t){return function(e,i,o){t=t||"."+n,o.get=function(){var e=this.elem.filter(t).add(t,this.elem);return e[1]&&console.warn("There are "+e.length+" matches for the given wired getter selector: "+t),e.cc.get(n)}}},d=function(n,t,e){return e?void v(l(t))(n,t,e):v(n,t)},p=jQuery,g="__coelement:",y=/\s+/,w=function(n,t,e){var i=new e(n);p.isFunction(i.__cc_init__)?i.__cc_init__(n):i.elem=n,E(e).forEach(function(t){t.bindTo(n,i)}),n.data(g+t,i)},E=function(n){return n.__events__||[]},b={},C="__class_component_data__",j=function(n){return Object.defineProperty(n.fn,"cc",{get:function(){var n=this,t=this.data(C);return t||(this.data(C,t=function(t){return s(n,t),n}),t.get=function(t){return f(n,t)},t.init=function(n){return t(n).cc.get(n)}),t}})};p.cc||(p.cc=o,j(p),o.init=function(n,t){return n?("string"==typeof n&&(n=n.split(y)),n.map(function(n){return r(n,t)})):void a(t)},o.component=function(n){return p.isFunction(n)?void o(l(n.name),n):function(t){o(n,t)}},o.__ccc__=b,o.on=m,o.emit=_,o.wire=d)}();
