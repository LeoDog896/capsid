"use strict";!function(){function n(n,t,e){this.bindTo=function(i,r){i.on(n,t,function(){r[e].apply(r,arguments)})}}function t(n,t){this.Constructor=t;var e=n+"-initialized";this.selector="."+n+":not(."+e+")",this.initElem=function(i,r){i.hasClass(e)||(i.addClass(e).data(c+n,r=new t(i)),h(r.__cc_init__)?r.__cc_init__(i):r.elem=i,s(t).forEach(function(n){n.bindTo(i,r)}))}}function e(n,t){if(!n)throw new Error(t)}function i(n){return e(_[n],'Class componet "'+n+'" is not defined.'),_[n]}function r(n,i){e("string"==typeof n,"`name` of a class component has to be a string"),e(h(i),"`Constructor` of a class component has to be a function"),_[n]=new t(n,i),m(function(){o(n)})}function o(n,t){("string"==typeof n?n.split(/\s+/):Object.keys(_)).map(i).forEach(function(n){m(n.selector,t).each(function(){n.initElem(m(this))})})}var c="__coelement:",a="__cc_listeners__",u="__cc_data__",s=function(n){return n[a]||[]},f=function(t,e,i,r){var o=t.constructor;o[a]=s(o).concat(new n(i,r,e))},l=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).replace(/^-/,"")},m=jQuery,h=m.isFunction,_={};r.on=function(n){var t=function(t,e){f(t,e,n)};return t.at=function(t){return function(e,i){f(e,i,n,t)}},t},r.emit=function(n){var t=function(t,e,i){var r=i.value;i.value=function(){return this.elem.trigger(n,arguments),r.apply(this,arguments)}};return t.first=t,t.last=function(t,e,i){var r=i.value;i.value=function(){var t=this,e=r.apply(this,arguments);return e&&e.then?Promise.resolve(e).then(function(e){return t.elem.trigger(n,e)}):this.elem.trigger(n,e),e}},t};var g=function(n,t){return function(e,i,r){t=t||"."+n,r.get=function(){var e=this.elem.filter(t).add(t,this.elem);return e[1]&&console.warn("There are "+e.length+" matches for the given wired getter selector: "+t),e.cc.get(n)}}};r.wire=function(n,t,e){return e?void g(l(t))(n,t,e):g(n,t)},r.component=function(n){return h(n)?void r(l(n.name),n):function(t){r(n,t)}};var d=function(n){return Object.defineProperty(n.fn,"cc",{get:function(){var n=this,t=n.data(u);return t||(t=function(t){return("string"==typeof t?t:n[0].className).split(/\s+/).forEach(function(t){_[t]&&i(t).initElem(n.addClass(t))}),n},n.data(u,t),t.get=function(t){e(n[0],'coelement "'+t+'" unavailable at empty dom selection');var i=n.data(c+t);return e(i,"no coelement named: "+t+", on the dom: "+n[0].tagName),i},t.init=function(n){return t(n).cc.get(n)}),t}})};m.cc||(m.cc=r,d(m),r.init=o,r.__ccc__=_)}();
