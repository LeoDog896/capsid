"use strict";!function(){function n(n,t,e){this.bindTo=function(i,o){i.on(n,t,function(){o[e].apply(o,arguments)})}}function t(n,t){this.Constructor=t;var e=n+"-initialized";this.selector="."+n+":not(."+e+")",this.initElem=function(i,o){i.hasClass(e)||(i.addClass(e).data(c+n,o=new t(i)),g(o.__cc_init__)?o.__cc_init__(i):o.elem=i,l(t.prototype).forEach(function(n){n.bindTo(i,o)}))}}function e(n,t){if(!n)throw new Error(t)}function i(n){return e(d[n],'Class componet "'+n+'" is not defined.'),d[n]}function o(n,i){e("string"==typeof n,"`name` of a class component has to be a string"),e(g(i),"`Constructor` of a class component has to be a function"),d[n]=new t(n,i),_(function(){r(n)})}function r(n,t){("string"==typeof n?n.split(/\s+/):f.keys(d)).map(i).forEach(function(n){_(n.selector,t).each(function(){n.initElem(_(this))})})}var c="__coelement:",a="__cc_listeners__",u="__cc_data__",s="constructor",f=Object,l=function(n,t){do t=n[s]&&n[s][a];while(!t&&(n=f.getPrototypeOf(n)));return t||[]},m=function(t,e,i,o){t[s][a]=l(t).concat(new n(i,o,e))},h=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).replace(/^-/,"")},_=jQuery,g=_.isFunction,d={};o.on=function(n){var t=function(t,e){m(t,e,n)};return t.at=function(t){return function(e,i){m(e,i,n,t)}},t},o.emit=function(n){var t=function(t,e,i){var o=i.value;i.value=function(){return this.elem.trigger(n,arguments),o.apply(this,arguments)}};return t.first=t,t.last=function(t,e,i){var o=i.value;i.value=function(){var t=this,e=o.apply(this,arguments);return e&&e.then?Promise.resolve(e).then(function(e){return t.elem.trigger(n,e)}):this.elem.trigger(n,e),e}},t};var p=function(n,t){return function(e,i,o){t=t||"."+n,o.get=function(){var e=this.elem.filter(t).add(t,this.elem);return e[1]&&console.warn("There are "+e.length+" matches for the given wired getter selector: "+t),e.cc.get(n)}}};o.wire=function(n,t,e){return e?void p(h(t))(n,t,e):p(n,t)},o.component=function(n){return g(n)?void o(h(n.name),n):function(t){o(n,t)}};var v=function(n){return f.defineProperty(n.fn,"cc",{get:function(){var n=this,t=n.data(u);return t||(t=function(t){return("string"==typeof t?t:n[0].className).split(/\s+/).forEach(function(t){d[t]&&i(t).initElem(n.addClass(t))}),n},n.data(u,t),t.get=function(t){e(n[0],'coelement "'+t+'" unavailable at empty dom selection');var i=n.data(c+t);return e(i,"no coelement named: "+t+", on the dom: "+n[0].tagName),i},t.init=function(n){return t(n).cc.get(n)}),t}})};_.cc||(_.cc=o,v(_),o.init=r,o.__ccc__=d)}();
